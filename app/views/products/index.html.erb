<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h1>Products</h1>
  <%= link_to "New Product", new_product_path, style: "background-color: #10b981; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 6px;" %>
</div>

<div class="filters" style="margin-bottom: 2rem;">
  <%= link_to "All Products", products_path, class: "filter-link #{'active' unless @selected_category}" %>
  <% @categories.each do |category| %>
    <%= link_to category.capitalize, products_path(category: category), class: "filter-link #{'active' if @selected_category == category}" %>
  <% end %>
</div>

<div id="products">
  <% @products.each do |product| %>
    <div class="product-card" style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 8px;">
      <% if product.photo.present? %>
        <img src="<%= product.photo %>" alt="<%= product.name %>" class="product-photo" style="width: 100%; max-width: 300px; height: 200px; object-fit: cover; border-radius: 6px; margin-bottom: 1rem;">
      <% end %>
      <h3><%= link_to product.name, product_path(product) %></h3>
      <p class="category" style="color: #666; text-transform: capitalize;"><%= product.category %></p>
      <p class="price" style="font-weight: bold; color: #2563eb;"><%= product.formatted_price %></p>
      <% if product.description.present? %>
        <p class="description" style="color: #555;"><%= truncate(product.description, length: 100) %></p>
      <% end %>
      <div class="product-actions" style="margin-top: 1rem; border-top: 1px solid #e5e7eb; padding-top: 1rem;">
        <%= link_to "Edit", edit_product_path(product), style: "color: #2563eb; text-decoration: none; margin-right: 1rem;" %>
        <%= link_to "Delete", product_path(product), method: :delete, data: { confirm: "Are you sure?" }, style: "color: #dc2626; text-decoration: none;" %>
      </div>
    </div>
  <% end %>
</div>

<style>
  .filter-link {
    display: inline-block;
    padding: 0.5rem 1rem;
    margin-right: 0.5rem;
    text-decoration: none;
    background-color: #f3f4f6;
    border-radius: 6px;
    color: #374151;
  }
  
  .filter-link:hover {
    background-color: #e5e7eb;
  }
  
  .filter-link.active {
    background-color: #2563eb;
    color: white;
  }
</style>

