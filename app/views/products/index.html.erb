<h1>Products</h1>

<div class="filters" style="margin-bottom: 2rem;">
  <%= link_to "All Products", products_path, class: "filter-link #{'active' unless @selected_category}" %>
  <% @categories.each do |category| %>
    <%= link_to category.capitalize, products_path(category: category), class: "filter-link #{'active' if @selected_category == category}" %>
  <% end %>
</div>

<div id="products">
  <% @products.each do |product| %>
    <div class="product-card" style="border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 8px;">
      <h3><%= link_to product.name, product_path(product) %></h3>
      <p class="category" style="color: #666; text-transform: capitalize;"><%= product.category %></p>
      <p class="price" style="font-weight: bold; color: #2563eb;"><%= product.formatted_price %></p>
      <% if product.description.present? %>
        <p class="description" style="color: #555;"><%= truncate(product.description, length: 100) %></p>
      <% end %>
    </div>
  <% end %>
</div>

<style>
  .filter-link {
    display: inline-block;
    padding: 0.5rem 1rem;
    margin-right: 0.5rem;
    text-decoration: none;
    background-color: #f3f4f6;
    border-radius: 6px;
    color: #374151;
  }
  
  .filter-link:hover {
    background-color: #e5e7eb;
  }
  
  .filter-link.active {
    background-color: #2563eb;
    color: white;
  }
</style>

